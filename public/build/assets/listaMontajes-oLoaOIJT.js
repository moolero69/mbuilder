import{j as e,K as ue,r as l,m as pe,L as je,$ as v}from"./app-B_9t_kon.js";import{H as he}from"./header-principal-C9BQya62.js";import{a as fe}from"./TooltipIncopatibilidad-CIXy9nEg.js";import{T as _e,a as ve,b as ge,c as be}from"./tooltip-ue6ExCWL.js";import{L as Ne,S as we,F as Se}from"./square-activity-B6iEtFea.js";import{B as i}from"./button-BFrTgFCG.js";import{D as Me,a as De,b as ze,c as Ce,d as ye,e as Ee}from"./dialog-BdXjLr9J.js";import{u as ke}from"./useProgresoMontaje-Dm-NN8_H.js";import{t as Te}from"./index-CTcmfK4P.js";import{C as Pe}from"./check-BjdIUOTi.js";import"./avatar-JDN0PhfW.js";import"./index-Cinha0DB.js";import"./index-BVHzwfpb.js";import"./index-CTtF2qvG.js";import"./Combination-BwLIQS6y.js";import"./tslib.es6-M_FJ09fS.js";import"./createLucideIcon-C3wq9b1k.js";import"./index-dd2-wE_J.js";import"./x-CLxR1xyW.js";function g({tipo:n}){let t="",s=null;return n==="eco"?(t="verde",s=e.jsx(Ne,{})):n==="equilibrado"?(t="azul",s=e.jsx(we,{})):n==="pro"&&(t="rojo",s=e.jsx(Se,{})),e.jsx(_e,{children:e.jsxs(ve,{children:[e.jsx(ge,{asChild:!0,children:e.jsx("div",{className:`text-[var(--${t}-neon)] mb-2 before:hidden after:hidden`,children:s})}),e.jsx(be,{className:`border-2 border-[var(--${t}-neon)] bg-gradient-to-r from-[#0d0d0d] via-[#131313] to-[#0d0d0d] text-white`,side:"right",align:"center",children:e.jsxs("p",{className:'font-["exo_2"]',children:["Montaje ",n]})})]})})}function Ze({montajes:n}){var N;const{props:t}=ue(),s=(N=t.flash)==null?void 0:N.success,[o,W]=l.useState(),[b,d]=l.useState(!1),[Q,U]=l.useState(""),{guardarProcesador:V,guardarPlacaBase:X,guardarMemoriaRam:Y,guardarMemoriaRamSecundaria:Z,guardarDiscoDuro:ee,guardarDiscoDuroSecundario:ae,guardarTarjetaGrafica:re,guardarFuenteAlimentacion:oe,guardarTorre:se,guardarEditarMontaje:ne,guardarMontajeAnterior:te,guardarDisipador:ie,guardarTipoMontaje:le}=ke(r=>r);function de(){const r=o.procesador,a=o.disipador,f=o.placa_base,_=o.memoria_ram,c=o.memoria_ram_secundaria,m=o.disco_duro,x=o.disco_duro_secundario,u=o.tarjeta_grafica,p=o.fuente_alimentacion,j=o.torre,h=o.otros.tipo_montaje;V(r),ie(a),X(f),Y(_),Z(c),ee(m),ae(x),re(u),oe(p),se(j),ne(!0),le(h)}l.useEffect(()=>{o&&de()},[o]),l.useEffect(()=>{s&&Te.custom(r=>e.jsxs("div",{className:"ml-20 flex w-[350px] items-center gap-3 rounded-xl bg-white/90 p-4 text-black shadow-lg",children:[e.jsx("span",{children:e.jsx(Pe,{size:30,className:"text-[var(--rojo-neon)]"})}),e.jsx("div",{className:"flex w-full justify-center text-center text-xl",children:e.jsx("p",{className:"font-['exo_2']",children:s})})]}),{duration:3500})},[s]);const{setData:ce,delete:me}=pe(),xe=()=>{me(route("montaje.eliminar"))};return e.jsxs(e.Fragment,{children:[e.jsx(je,{title:"Mis Montajes"}),e.jsx(he,{}),b&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-xs"}),e.jsxs("div",{className:"relative min-h-[calc(100dvh-120px)] w-full text-white",children:[e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 z-0 h-full w-full object-cover opacity-30",children:e.jsx("source",{src:"/vid/video-principal.mp4",type:"video/mp4"})}),e.jsxs("section",{className:"relative z-20 px-6 py-12 font-['Exo_2']",children:[e.jsx("h1",{className:"mb-10 text-center font-['Orbitron'] text-5xl font-bold text-[var(--azul-neon)] drop-shadow-[0_0_10px_var(--azul-neon)]",children:"Mis Montajes"}),n.length==0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex h-[512px] w-full items-center justify-center flex-col gap-15",children:[e.jsx("h1",{className:"text-center font-['Orbitron'] text-5xl font-bold text-[var(--naranja-neon)] drop-shadow-[0_0_10px_var(--naranja-neon)]",children:"No tienes montajes guardados"}),e.jsx(i,{className:"text-3xl underline  hover:text-[var(--fucsia-neon)] duration-300",variant:"link",asChild:!0,children:e.jsx(v,{href:route("montaje.tipo"),children:"Comienza tu primer montaje"})})]})}):e.jsx("div",{className:"grid auto-rows-fr gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(r=>{var c,m,x,u,p,j,h,w,S,M,D,z,C,y,E,k,T,P,F,R,A,O,q,B,I,L,$,G,H,J,K;const a=JSON.parse(r.datos),f=!a.procesador||!a.disipador||!a.placa_base||!a.memoria_ram||!a.disco_duro||!a.tarjeta_grafica||!a.fuente_alimentacion||!a.torre,_={procesador_id:((c=a.procesador)==null?void 0:c.id)??null,disipador_id:((m=a.disipador)==null?void 0:m.id)??null,placabase_id:((x=a.placa_base)==null?void 0:x.id)??null,memoria_ram_id:((u=a.memoria_ram)==null?void 0:u.id)??null,discoduro_id:((p=a.disco_duro)==null?void 0:p.id)??null,discodurosecundario_id:((j=a.disco_duro_secundario)==null?void 0:j.id)??null,tarjeta_grafica_id:((h=a.tarjeta_grafica)==null?void 0:h.id)??null,fuente_alimentacion_id:((w=a.fuente_alimentacion)==null?void 0:w.id)??null,torre_id:((S=a.torre)==null?void 0:S.id)??null,nombre:r.nombre,precio_total:(M=a.otros)==null?void 0:M.precio,consumo_total:(D=a.otros)==null?void 0:D.consumo,numero_memorias:(z=a.memoria_ram)==null?void 0:z.cantidad};return e.jsxs("div",{className:"colores-borde-glow flex h-full flex-col rounded-xl bg-gradient-to-l from-[#1a1a1a] via-[#121212] to-[#0a0a0a] p-5 transition-all duration-300",children:[e.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-between",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("h2",{className:"mb-3 font-['Orbitron'] text-2xl font-bold text-[var(--naranja-neon)] drop-shadow-[0_0_5px_var(--naranja-neon)]",children:r.nombre}),((C=a.otros)==null?void 0:C.tipo_montaje)==="eco"&&e.jsx(g,{tipo:"eco"}),((y=a.otros)==null?void 0:y.tipo_montaje)==="equilibrado"&&e.jsx(g,{tipo:"equilibrado"}),((E=a.otros)==null?void 0:E.tipo_montaje)==="pro"&&e.jsx(g,{tipo:"pro"})]}),f&&e.jsx(fe,{mensaje:"Posible incopatibilidad entre componentes"})]}),e.jsxs("p",{className:"mb-4 text-sm text-gray-400",children:["Creado el ",new Date(r.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex fle-row justify-between items-center",children:[e.jsxs("ul",{className:"mb-4 space-y-1 text-sm min-w-[300px]",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Procesador:"})," ",((k=a.procesador)==null?void 0:k.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin procesador"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Disipador:"})," ",(T=a.disipador)!=null&&T.nombre?a.disipador.nombre:((P=a.procesador)==null?void 0:P.disipador_incluido)==="Si"?e.jsx("span",{className:"text-yellow-400",children:"Incluido con el procesador"}):e.jsx("span",{className:"text-red-500",children:"Sin disipador"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Placa Base:"})," ",((F=a.placa_base)==null?void 0:F.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin placa base"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Memoria/s RAM:"})," ",((R=a.memoria_ram)==null?void 0:R.cantidad)&&`x${(A=a.memoria_ram)==null?void 0:A.cantidad} `,((O=a.memoria_ram)==null?void 0:O.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin memoria RAM principal"})]}),a.memoria_ram_secundaria&&e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Memoria RAM secundaria:"})," ",((q=a.memoria_ram_secundaria)==null?void 0:q.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin memoria RAM secundaria"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Disco Duro Principal:"})," ",((B=a.disco_duro)==null?void 0:B.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin disco duro principal"})]}),a.disco_duro_secundario&&e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Disco Duro Secundario:"})," ",((I=a.disco_duro_secundario)==null?void 0:I.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin disco duro secundario"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Gráfica:"})," ",((L=a.tarjeta_grafica)==null?void 0:L.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin gráfica"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Fuente:"})," ",(($=a.fuente_alimentacion)==null?void 0:$.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin fuente"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Torre:"})," ",((G=a.torre)==null?void 0:G.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin torre"})]}),e.jsxs("li",{children:[e.jsxs("strong",{className:"text-xl text-[var(--verde-neon)]",children:["Precio: ",((H=a.otros)==null?void 0:H.precio.toFixed(2))||"???","€"]})," "]}),e.jsxs("li",{children:[e.jsxs("strong",{className:"text-xl text-[var(--rosa-neon)]",children:["Consumo: ",((J=a.otros)==null?void 0:J.consumo)||"???","W"]})," "]})]}),e.jsx("img",{src:(K=a.torre)==null?void 0:K.link_imagen,alt:"",className:"h-[250px] w-[500px] overflow-hidden mb-8 ml-4",draggable:"false"})]}),e.jsxs("div",{className:"mt-auto flex flex-col gap-2 sm:flex-row sm:justify-between",children:[e.jsx(i,{variant:"outline",className:"w-full border-[var(--azul-neon)] font-['Orbitron'] text-[var(--azul-neon)] shadow-[0_0_8px_var(--azul-neon)] transition-all duration-500 hover:bg-[var(--azul-neon)] hover:text-black hover:shadow-[0_0_16px_var(--azul-neon)] sm:w-auto",onClick:()=>{W(a),te(a),sessionStorage.setItem("nombreMontajeEditar",r.nombre),sessionStorage.setItem("idMontajeEditar",String(r.id))},asChild:!0,children:e.jsx(v,{href:route("montaje.procesador"),children:"Editar"})}),e.jsx(i,{variant:"outline",className:"w-full border-[var(--verde-neon)] font-['Orbitron'] text-[var(--verde-neon)] shadow-[0_0_8px_var(--verde-neon)] transition-all duration-500 hover:bg-[var(--verde-neon)] hover:text-black hover:shadow-[0_0_16px_var(--verde-neon)] sm:w-auto hover:cursor-pointer",asChild:!0,children:e.jsx(v,{href:route("montaje.generarPdf"),data:_,method:"post",children:"Exportar PDF"})}),e.jsx(i,{variant:"outline",className:"w-auto border-[var(--rojo-neon)] font-['Orbitron'] text-[var(--rojo-neon)] shadow-[0_0_8px_var(--rojo-neon)] transition-all duration-500 hover:cursor-pointer hover:bg-[var(--rojo-neon)] hover:text-black hover:shadow-[0_0_16px_var(--rojo-neon)]",onClick:()=>{d(!0),U(r.nombre),ce({id:Number(r.id)})},children:"Eliminar"})]})]},r.id)})})]})]}),e.jsx(Me,{open:b,onOpenChange:d,children:e.jsxs(De,{className:"border-[var(--rojo-neon)] bg-[#0d0d0d] text-white shadow-[0_0_15px_var(--rojo-neon)]",children:[e.jsxs(ze,{children:[e.jsx(Ce,{className:"text-[var(--rojo-neon)] drop-shadow-[0_0_8px_var(--rojo-neon)]",children:"¿Eliminar montaje?"}),e.jsxs(ye,{className:"text-gray-400",children:["¿Estás seguro de que quieres eliminar ",e.jsx("span",{className:"font-bold text-white",children:Q}),"? Esta acción no se puede deshacer."]})]}),e.jsxs(Ee,{children:[e.jsx(i,{variant:"ghost",onClick:()=>d(!1),className:"border border-gray-600 text-white hover:cursor-pointer hover:bg-gray-800",children:"Cancelar"}),e.jsx(i,{onClick:()=>{xe(),d(!1)},className:"bg-[var(--rojo-neon)] text-black hover:cursor-pointer hover:bg-red-600",children:"Eliminar"})]})]})})]})}export{Ze as default};
