import{r as f,m as j,j as e,K as b,L as N,$ as y}from"./app-nCFXlkF6.js";import{H as g,A as w}from"./ajustes-layout-DV71DpVL.js";import{L as p,I as x}from"./label-CbM2sbRV.js";import{B as c}from"./button-BKqQINge.js";import{I as h}from"./index-lgXBLWM7.js";import{D as C,f as D,a as _,c as k,d as E,e as F,g as I}from"./dialog-CvFEXO_S.js";import{z as S}from"./transition-LGU6Y4lb.js";import"./header-principal-wihdgFxa.js";import"./index-Bl85qwO2.js";import"./createLucideIcon-DZW4mdqB.js";import"./index-B264r27G.js";import"./useProgresoMontaje-CWMB_d7x.js";import"./avatar-DTlD361x.js";import"./index-BClyipIW.js";import"./index-CunUFvtd.js";import"./Combination-Cc1Yj4-y.js";import"./tslib.es6-M_FJ09fS.js";import"./separator-CqDTMgAI.js";import"./index-C7UQdeLL.js";import"./index-d4RImGOf.js";import"./x-CcwRVnrX.js";function q(){const s=f.useRef(null),{data:d,setData:a,delete:o,processing:t,reset:n,errors:i,clearErrors:m}=j({password:""}),u=r=>{r.preventDefault(),o(route("perfil.eliminar"),{preserveScroll:!0,onSuccess:()=>l(),onError:()=>{var v;return(v=s.current)==null?void 0:v.focus()},onFinish:()=>n()})},l=()=>{m(),n()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{title:"Borrar cuenta",description:"Borra tu cuenta y todos sus recursos."}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-[var(--rojo-neon)] bg-red-950/30 p-4 shadow-[0_0_12px_var(--rojo-neon)]",children:[e.jsxs("div",{className:"relative space-y-0.5 text-[var(--amarillo-neon)]",children:[e.jsx("p",{className:"font-bold text-lg",children:"⚠️ Aviso importante"}),e.jsx("p",{className:"text-sm text-[var(--gris-neon)]",children:"Por favor procede con cautela, esto no se puede deshacer."})]}),e.jsxs(C,{children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{className:"bg-[var(--rojo-neon)] text-black hover:bg-red-600 font-bold shadow-[0_0_8px_var(--rojo-neon)]",children:"Borrar cuenta"})}),e.jsxs(_,{className:"border border-[var(--amarillo-neon)] bg-black/90 text-[var(--amarillo-neon)] shadow-[0_0_30px_var(--amarillo-neon)]",children:[e.jsx(k,{className:"text-[var(--rojo-neon)] text-xl font-extrabold",children:"¿Estás seguro de que quieres eliminar tu cuenta?"}),e.jsx(E,{className:"text-[var(--gris-neon)]",children:"Una vez que se elimine tu cuenta, todos tus recursos y datos también se eliminarán permanentemente. Introduce tu contraseña para confirmar esta acción irreversible."}),e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"contraseña",className:"sr-only",children:"Contraseña"}),e.jsx(h,{id:"contraseña",type:"password",name:"password",ref:s,value:d.password,onChange:r=>a("password",r.target.value),placeholder:"Contraseña",autoComplete:"current-password",className:"bg-black text-white border border-[var(--amarillo-neon)] placeholder-gray-500 focus:border-[var(--rojo-neon)] focus:ring-[var(--rojo-neon)]"}),e.jsx(x,{message:i.password,className:"text-[var(--rojo-neon)]"})]}),e.jsxs(F,{className:"gap-2",children:[e.jsx(I,{asChild:!0,children:e.jsx(c,{variant:"secondary",onClick:l,className:"border border-[var(--amarillo-neon)] text-[var(--amarillo-neon)] hover:bg-[var(--amarillo-neon)] hover:text-black",children:"Cancelar"})}),e.jsx(c,{variant:"destructive",disabled:t,className:"bg-[var(--rojo-neon)] text-black font-bold hover:bg-red-600 shadow-[0_0_8px_var(--rojo-neon)]",asChild:!0,children:e.jsx("button",{type:"submit",children:"Eliminar cuenta"})})]})]})]})]})]})]})}function ee({verificarEmail:s,estado:d}){const{auth:a}=b().props,{data:o,setData:t,patch:n,errors:i,processing:m,recentlySuccessful:u}=j({name:a.user.name,email:a.user.email}),l=r=>{r.preventDefault(),n(route("perfil.actualizar"),{preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Ajustes de perfil"}),e.jsxs(w,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{title:"Información del perfil",description:"Actualiza tu nombre y tu dirección de correo"}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"nombre",children:"Nombre"}),e.jsx(h,{id:"nombre",className:"mt-1 block w-full",value:o.name,onChange:r=>t("name",r.target.value),required:!0,autoComplete:"Nombre",placeholder:"Nombre"}),e.jsx(x,{className:"mt-2",message:i.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Dirección de correo"}),e.jsx(h,{id:"email",type:"email",className:"mt-1 block w-full",value:o.email,onChange:r=>t("email",r.target.value),required:!0,autoComplete:"usuario",placeholder:"Dirección de correo"}),e.jsx(x,{className:"mt-2",message:i.email})]}),s&&a.user.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground -mt-4 text-sm",children:["Tu dirección de correo no está verificada."," ",e.jsx(y,{href:route("verification.send"),method:"post",as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Haz clic aquí para reenviar el correo de verificación."})]}),d==="link-enviado"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Un nuevo enlace de verificación ha sido enviado a tu dirección de correo electrónico."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{disabled:m,children:"Guardar"}),e.jsx(S,{show:u,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-neutral-600",children:"Guardado!"})})]})]})]}),e.jsx(q,{})]})]})}export{ee as default};
