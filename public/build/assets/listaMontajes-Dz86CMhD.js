import{j as e,K as Se,r as s,m as De,L as Me,$ as g}from"./app-sL5v9rWa.js";import{H as ye}from"./header-principal-CwKcr7Vj.js";import{a as ke}from"./TooltipIncopatibilidad-Dta44ZdG.js";import{T as ze,a as Ee,b as Te,c as Ae}from"./tooltip-BFuCmGQZ.js";import{L as Pe,S as Oe,F as Fe}from"./square-activity-CYaEkLtg.js";import{B as i}from"./button-DqZvslXv.js";import{D as X,a as Y,b as Z,c as ee,d as ae,e as re}from"./dialog-BBlfB9Cp.js";import{u as Re}from"./useProgresoMontaje-D-MnT23t.js";import{t as Le}from"./index-DFbn6vpG.js";import{Q as Ie}from"./index-CefCWPx5.js";import{I as qe}from"./input-BPzvt8bF.js";import{A as Be}from"./app-layout-DkZM5mO2.js";import{C as $e}from"./check-4ddrW8xW.js";import"./index-BY_4VMIF.js";import"./index-Cj_tvfUq.js";import"./index-wtn4aWag.js";import"./Combination-BBkwzGzu.js";import"./tslib.es6-M_FJ09fS.js";import"./createLucideIcon-Ca1Y-7ap.js";import"./x-BzLx4Ujd.js";import"./tarjetaCookies-DEmkHONt.js";function N({tipo:l}){let n="",t=null;return l==="eco"?(n="verde",t=e.jsx(Pe,{})):l==="equilibrado"?(n="azul",t=e.jsx(Oe,{})):l==="pro"&&(n="rojo",t=e.jsx(Fe,{})),e.jsx(ze,{children:e.jsxs(Ee,{children:[e.jsx(Te,{asChild:!0,children:e.jsx("div",{className:`text-[var(--${n}-neon)] mb-2 before:hidden after:hidden`,children:t})}),e.jsx(Ae,{className:`border-2 border-[var(--${n}-neon)] bg-gradient-to-r from-[#0d0d0d] via-[#131313] to-[#0d0d0d] text-white`,side:"right",align:"center",children:e.jsxs("p",{className:'font-["exo_2"]',children:["Montaje ",l]})})]})})}function xa({montajes:l}){var S,D;const{props:n}=Se(),t=(S=n.flash)==null?void 0:S.success,d=(D=n.flash)==null?void 0:D.link;s.useEffect(()=>{d&&C(!0)},[d]);const[o,oe]=s.useState(),[w,m]=s.useState(!1),[se,ne]=s.useState(""),{guardarProcesador:te,guardarPlacaBase:ie,guardarMemoriaRam:le,guardarMemoriaRamSecundaria:de,guardarDiscoDuro:ce,guardarDiscoDuroSecundario:me,guardarTarjetaGrafica:xe,guardarFuenteAlimentacion:ue,guardarTorre:pe,guardarEditarMontaje:he,guardarMontajeAnterior:je,guardarDisipador:ve,guardarTipoMontaje:fe}=Re(r=>r);function ge(){const r=o.procesador,a=o.disipador,_=o.placa_base,b=o.memoria_ram,x=o.memoria_ram_secundaria,u=o.disco_duro,p=o.disco_duro_secundario,h=o.tarjeta_grafica,j=o.fuente_alimentacion,v=o.torre,f=o.otros.tipo_montaje;te(r),ve(a),ie(_),le(b),de(x),ce(u),me(p),xe(h),ue(j),pe(v),he(!0),fe(f)}s.useEffect(()=>{o&&ge()},[o]),s.useEffect(()=>{t&&Le.custom(r=>e.jsxs("div",{className:"ml-20 flex w-[350px] items-center gap-3 rounded-xl bg-white/90 p-4 text-black shadow-lg",children:[e.jsx("span",{children:e.jsx($e,{size:30,className:"text-[var(--rojo-neon)]"})}),e.jsx("div",{className:"flex w-full justify-center text-center text-xl",children:e.jsx("p",{className:"font-['exo_2']",children:t})})]}),{duration:3500})},[t]);const{setData:_e,delete:be}=De(),Ne=()=>{be(route("montaje.eliminar"))},[Ge,He]=s.useState(!1),[we,C]=s.useState(!1),[Ce,c]=s.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs(Be,{children:[e.jsx(Me,{title:"Mis Montajes"}),e.jsx(ye,{}),w&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-xs"}),e.jsxs("div",{className:"relative min-h-[calc(100dvh-120px)] w-full text-white",children:[e.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 z-0 h-full w-full object-cover opacity-30",children:e.jsx("source",{src:"/vid/video-principal.mp4",type:"video/mp4"})}),e.jsxs("section",{className:"relative z-20 px-6 py-12 font-['Exo_2']",children:[e.jsx("h1",{className:"mb-10 text-center font-['Orbitron'] text-5xl font-bold text-[var(--azul-neon)] drop-shadow-[0_0_10px_var(--azul-neon)]",children:"Mis Montajes"}),l.length==0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex h-[512px] w-full items-center justify-center flex-col gap-15",children:[e.jsx("h1",{className:"text-center font-['Orbitron'] text-5xl font-bold text-[var(--naranja-neon)] drop-shadow-[0_0_10px_var(--naranja-neon)]",children:"No tienes montajes guardados"}),e.jsx(i,{className:"text-3xl underline  hover:text-[var(--fucsia-neon)] duration-300",variant:"link",asChild:!0,children:e.jsx(g,{href:route("montaje.tipo"),children:"Comienza tu primer montaje"})})]})}):e.jsx("div",{className:"grid auto-rows-fr gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.map(r=>{var x,u,p,h,j,v,f,M,y,k,z,E,T,A,P,O,F,R,L,I,q,B,$,G,H,Q,J,K,W,U,V;const a=JSON.parse(r.datos),_=!a.procesador||!a.disipador||!a.placa_base||!a.memoria_ram||!a.disco_duro||!a.tarjeta_grafica||!a.fuente_alimentacion||!a.torre,b={procesador_id:((x=a.procesador)==null?void 0:x.id)??null,disipador_id:((u=a.disipador)==null?void 0:u.id)??null,placabase_id:((p=a.placa_base)==null?void 0:p.id)??null,memoria_ram_id:((h=a.memoria_ram)==null?void 0:h.id)??null,discoduro_id:((j=a.disco_duro)==null?void 0:j.id)??null,discodurosecundario_id:((v=a.disco_duro_secundario)==null?void 0:v.id)??null,tarjeta_grafica_id:((f=a.tarjeta_grafica)==null?void 0:f.id)??null,fuente_alimentacion_id:((M=a.fuente_alimentacion)==null?void 0:M.id)??null,torre_id:((y=a.torre)==null?void 0:y.id)??null,nombre:r.nombre,precio_total:(k=a.otros)==null?void 0:k.precio,consumo_total:(z=a.otros)==null?void 0:z.consumo,numero_memorias:(E=a.memoria_ram)==null?void 0:E.cantidad};return e.jsxs("div",{className:"colores-borde-glow flex h-full flex-col rounded-xl bg-gradient-to-l from-[#1a1a1a] via-[#121212] to-[#0a0a0a] p-5 transition-all duration-300",children:[e.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-between",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("h2",{className:"mb-3 font-['Orbitron'] text-2xl font-bold text-[var(--naranja-neon)] drop-shadow-[0_0_5px_var(--naranja-neon)]",children:r.nombre}),((T=a.otros)==null?void 0:T.tipo_montaje)==="eco"&&e.jsx(N,{tipo:"eco"}),((A=a.otros)==null?void 0:A.tipo_montaje)==="equilibrado"&&e.jsx(N,{tipo:"equilibrado"}),((P=a.otros)==null?void 0:P.tipo_montaje)==="pro"&&e.jsx(N,{tipo:"pro"})]}),_&&e.jsx(ke,{mensaje:"Posible incopatibilidad entre componentes"})]}),e.jsxs("p",{className:"mb-4 text-sm text-gray-400",children:["Creado el ",new Date(r.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsxs("ul",{className:"mb-4 space-y-1 text-sm min-w-[300px]",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Procesador:"})," ",((O=a.procesador)==null?void 0:O.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin procesador"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Disipador:"})," ",(F=a.disipador)!=null&&F.nombre?a.disipador.nombre:((R=a.procesador)==null?void 0:R.disipador_incluido)==="Si"?e.jsx("span",{className:"text-yellow-400",children:"Incluido con el procesador"}):e.jsx("span",{className:"text-red-500",children:"Sin disipador"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Placa Base:"})," ",((L=a.placa_base)==null?void 0:L.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin placa base"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Memoria/s RAM:"})," ",((I=a.memoria_ram)==null?void 0:I.cantidad)&&`x${(q=a.memoria_ram)==null?void 0:q.cantidad} `,((B=a.memoria_ram)==null?void 0:B.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin memoria RAM principal"})]}),a.memoria_ram_secundaria&&e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Memoria RAM secundaria:"})," ",(($=a.memoria_ram_secundaria)==null?void 0:$.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin memoria RAM secundaria"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Disco Duro Principal:"})," ",((G=a.disco_duro)==null?void 0:G.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin disco duro principal"})]}),a.disco_duro_secundario&&e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Disco Duro Secundario:"})," ",((H=a.disco_duro_secundario)==null?void 0:H.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin disco duro secundario"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Gráfica:"})," ",((Q=a.tarjeta_grafica)==null?void 0:Q.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin gráfica"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Fuente:"})," ",((J=a.fuente_alimentacion)==null?void 0:J.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin fuente"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-[var(--azul-neon)]",children:"Torre:"})," ",((K=a.torre)==null?void 0:K.nombre)||e.jsx("span",{className:"text-red-500",children:"Sin torre"})]}),e.jsxs("li",{children:[e.jsxs("strong",{className:"text-xl text-[var(--verde-neon)]",children:["Precio: ",((W=a.otros)==null?void 0:W.precio.toFixed(2))||"???","€"]})," "]}),e.jsxs("li",{children:[e.jsxs("strong",{className:"text-xl text-[var(--rosa-neon)]",children:["Consumo: ",((U=a.otros)==null?void 0:U.consumo)||"???","W"]})," "]})]}),e.jsx("img",{src:(V=a.torre)==null?void 0:V.link_imagen,alt:"",className:"h-[250px] w-[500px] overflow-hidden mb-8 ml-4",draggable:"false"})]}),e.jsxs("div",{className:"mt-auto flex flex-col gap-2 sm:flex-row sm:justify-between",children:[e.jsx(i,{variant:"outline",className:"w-full border-[var(--azul-neon)] font-['Orbitron'] text-[var(--azul-neon)] shadow-[0_0_8px_var(--azul-neon)] transition-all duration-500 hover:bg-[var(--azul-neon)] hover:text-black hover:shadow-[0_0_16px_var(--azul-neon)] sm:w-auto",onClick:()=>{oe(a),je(a),sessionStorage.setItem("nombreMontajeEditar",r.nombre),sessionStorage.setItem("idMontajeEditar",String(r.id))},asChild:!0,children:e.jsx(g,{href:route("montaje.procesador"),children:"Editar"})}),e.jsx(i,{variant:"outline",className:"w-full border-[var(--verde-neon)] font-['Orbitron'] text-[var(--verde-neon)] shadow-[0_0_8px_var(--verde-neon)] transition-all duration-500 hover:bg-[var(--verde-neon)] hover:text-black hover:shadow-[0_0_16px_var(--verde-neon)] sm:w-auto hover:cursor-pointer",asChild:!0,children:e.jsx(g,{href:route("montaje.generarPdf"),data:b,method:"post",children:"Exportar PDF"})}),e.jsx(i,{variant:"outline",className:"w-full border-[var(--amarillo-neon)] font-['Orbitron'] text-[var(--amarillo-neon)] shadow-[0_0_8px_var(--amarillo-neon)] transition-all duration-500 hover:bg-[var(--amarillo-neon)] hover:text-black hover:shadow-[0_0_16px_var(--amarillo-neon)] sm:w-auto hover:cursor-pointer",asChild:!0,children:e.jsx(g,{href:route("montaje.ver.link",r.id),method:"post",children:"Compartir"})}),e.jsx(i,{variant:"outline",className:"w-auto border-[var(--rojo-neon)] font-['Orbitron'] text-[var(--rojo-neon)] shadow-[0_0_8px_var(--rojo-neon)] transition-all duration-500 hover:cursor-pointer hover:bg-[var(--rojo-neon)] hover:text-black hover:shadow-[0_0_16px_var(--rojo-neon)]",onClick:()=>{m(!0),ne(r.nombre),_e({id:Number(r.id)})},children:"Eliminar"})]})]},r.id)})})]})]}),e.jsx(X,{open:w,onOpenChange:m,children:e.jsxs(Y,{className:"border-[var(--rojo-neon)] bg-[#0d0d0d] text-white shadow-[0_0_15px_var(--rojo-neon)]",children:[e.jsxs(Z,{children:[e.jsx(ee,{className:"text-[var(--rojo-neon)] drop-shadow-[0_0_8px_var(--rojo-neon)]",children:"¿Eliminar montaje?"}),e.jsxs(ae,{className:"text-gray-400",children:["¿Estás seguro de que quieres eliminar ",e.jsx("span",{className:"font-bold text-white",children:se}),"? Esta acción no se puede deshacer."]})]}),e.jsxs(re,{children:[e.jsx(i,{variant:"ghost",onClick:()=>m(!1),className:"border border-gray-600 text-white hover:cursor-pointer hover:bg-gray-800",children:"Cancelar"}),e.jsx(i,{onClick:()=>{Ne(),m(!1)},className:"bg-[var(--rojo-neon)] text-black hover:cursor-pointer hover:bg-red-600",children:"Eliminar"})]})]})}),e.jsx(X,{open:we,onOpenChange:C,children:e.jsxs(Y,{className:"border-[var(--verde-neon)] bg-[#0d0d0d] text-white shadow-[0_0_15px_var(--verde-neon)] sm:max-w-[425px]",children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Montaje compartido"}),e.jsx(ae,{children:"Este es el enlace para compartir tu montaje."})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsx("div",{className:"grid grid-cols-1 items-center gap-4",children:e.jsx(qe,{id:"enlace-compartido",readOnly:!0,value:d,className:"w-full",onClick:r=>r.target.select()})})}),e.jsx(re,{children:e.jsxs("div",{className:"flex w-full justify-between",children:[d&&e.jsx(Ie,{value:d,size:150}),e.jsx(i,{variant:"secondary",onClick:()=>{const r=document.getElementById("enlace-compartido");navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(d).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}).catch(()=>{r.select(),document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}):(r.select(),document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3))},children:Ce?"¡Copiado!":"Copiar link"})]})})]})})]})})}export{xa as default};
